// Code generated by gengshell DO NOT EDIT.

package main

import (
	"context"
	"encoding/json"

	rpc "github.com/j-tokumori/gshell/sample/service"

	"github.com/j-tokumori/gshell"

	"google.golang.org/protobuf/types/known/emptypb"
)

type _ = emptypb.Empty

// RegisterRPC ...
func RegisterRPC() gshell.Option {
	return gshell.RegisterRPCFactories(
		NewCreateUser,
		NewLogin,
	)
}

// CreateUser ...
type CreateUser emptypb.Empty

// Call ...
func (r *CreateUser) Call(ctx context.Context, conn gshell.Conn) (res *gshell.Response, err error) {
	client := rpc.NewAuthServiceClient(conn)
	args := emptypb.Empty(*r)
	res = gshell.NewEmptyResponse()
	res.Reply, err = client.CreateUser(ctx, &args, gshell.ResponseOptions(res)...)
	return res, err
}

// NewCreateUser ...
func NewCreateUser(in []byte) gshell.RPC {
	r := &CreateUser{}
	err := json.Unmarshal(in, r)
	if err != nil {
		panic(err)
	}
	return r
}

// GetAuthCreateUserReply ...
func GetAuthCreateUserReply(c *gshell.Client) *rpc.AuthCreateUserReply {
	if res := c.Response("CreateUser"); res != nil {
		return res.Reply.(*rpc.AuthCreateUserReply)
	}
	return nil
}

// Login ...
type Login rpc.AuthLoginArgs

// Call ...
func (r *Login) Call(ctx context.Context, conn gshell.Conn) (res *gshell.Response, err error) {
	client := rpc.NewAuthServiceClient(conn)
	args := rpc.AuthLoginArgs(*r)
	res = gshell.NewEmptyResponse()
	res.Reply, err = client.Login(ctx, &args, gshell.ResponseOptions(res)...)
	return res, err
}

// NewLogin ...
func NewLogin(in []byte) gshell.RPC {
	r := &Login{}
	err := json.Unmarshal(in, r)
	if err != nil {
		panic(err)
	}
	return r
}

// GetAuthLoginReply ...
func GetAuthLoginReply(c *gshell.Client) *rpc.AuthLoginReply {
	if res := c.Response("Login"); res != nil {
		return res.Reply.(*rpc.AuthLoginReply)
	}
	return nil
}
